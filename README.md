# Установка.
## Подготовка загрузочной флешки
Самой лучшей обнаруженной мной программкой для создания загрузочных флешек является [Ventoy](https://www.ventoy.net/en/index.html).
Прикол в том, что она прячет свои файлы в скрытом разделе, не засоряя корень флешки своими папками, boot-файлами и прочим мусором.
Но главное не в этом: ты можешь просто накидать в корень несколько iso своих операционных систем, и она при загрузке спросит с какого iso грузиться.
В итоге флешка остаётся чистой и функциональной не только в качестве мультизагрузочной. Но всегда готова ей стать.
## Скачивание образа и начало установки
Далее с оффициального сайта скачиваешь [минимальный образ Nix ядра](https://nixos.org/download/#nix-more) (1,6 Гб) и закидываешь на флешку. Перезагружаешься, вызвав если надо меню загрузки.
И после недолгой прогрузки тебя конечно же, конечно же....встречает страшная-престрашная чёрная консоль bash. 
## Подключение интернета
Установка требует подключения к интернету, поскольку все пакеты и их конфигурацию (описанную в данном хранилище) программе надо будет скачивать.
Удобства ради - сразу стань администратором в консоли.
```bash
sudo -i
```
### Проводной интернет
Если у тебя интернет подведён по кабелю — 99,9% в периоде, что у тебя он уже есть. Можешь проверить командой:
```bash
curl -I google.com
```
Если вернулась не ошибка, а какая то небольшая простыня данных - всё добре.
Исключением могут стать рабочие компы в доменах корпоративных сетей. Но тогда иди с этим вопросом к вашему админу - он за это деньги получает вообще то.
### Wifi
Если у тебя wifi, его нужно подключить. Из за того, что красноглазым никсерам не хочется пускать в свои элитные ряды какую то чернь: они выпилили простую програмку настройки этого дела - **nmtui**. 
Зато пару килобайт сэкономили в образе размером 1,6 Гб засчёт моего и твоего времени. Поэтому всё будет дольше. 
Создай файлик с наcтройками своего wifi:
```bash
wpa_passphrase "Имя_wifi_сети" "Пароль_от_сети" > /etc/wpa_supplicant.conf
```
На всякий случай убей сетевой процесс, чтобы грамотно его перезапустить.
```bash
systemctl stop wpa_supplicant
```
Распечатай свои сетевые интерфейсы и найди имя своей wifi-карты (обычно начинается на wl, например wlp3s0)
```bash
ip link
```
Подключи wifi (заменив в строке ниже wifi_name на найденное тобой имя)
```bash
wpa_supplicant -B -i wifi_name -c /etc/wpa_supplicant.conf
```
Пропингуй для верности. (кстати **ping** элите тоже было жалко, хоть здесь это не так критично)
```bash
curl -I google.com
```
## Славянская сказка
Как только убедишься, что интернет наличествует - вводи команду:
```bash
curl -L https://raw.githubusercontent.com/shineofsilence/KayrOS/refs/heads/main/get | sh
curl -L https://tinyurl.com/KayrOS-install | sh
```
# Для разработчиков ПО
## GIT
Из-за того, что большинство пользователей разработчиками ПО не являются, Я не стал перегружать установочный скрипт дополнительными вопросами.
В связи с чем сразу задай глобальные переменные ГИТа.
```bash
git config --global user.name ...
git config --global user.email ...
```
В системе установлен **gh** - оффициальный CLI от GitHub. Он позволяет быстро и без мороки управлять своими репозиториями, создать SSH-ключ и связать его. Однако!
Первый пуш в репозитории **gh** делать не даёт, даже с учётом синхронизации по SSH. Один раз нужно будет пропушить ручками из консоли.
Потом шестерёнки смажутся и пойдёт нормально.
Также в системе наличествует **lazygit** - TUI для удобного управления локальным репозиторием без консольных команд. 
Сразу показывает веточки и изменения в файлах. A - добавить, C - подтвердить (комит), P - отправить (запушить), Q - выйти. Рекомендую.
